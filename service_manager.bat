@echo off
chcp 65001 >nul
cls

:menu
echo ===========================================
echo       –ú–ï–ù–ï–î–ñ–ï–† –õ–û–ö–ê–õ–¨–ù–û–ì–û –°–ï–†–í–ò–°–ê
echo ===========================================
echo.
echo –ü—Ä–æ–µ–∫—Ç: GS Bot New Shop
echo.
echo [1] –ó–∞–ø—É—Å—Ç–∏—Ç—å Python —Å–µ—Ä–≤–∏—Å—ã (server.py + api_server.py)
echo [2] –ó–∞–ø—É—Å—Ç–∏—Ç—å Node.js —Å–µ—Ä–≤–∏—Å (server.js)
echo [3] –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
echo [4] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
echo [5] –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
echo [6] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Python API —Å–µ—Ä–≤–µ—Ä–æ–º
echo [7] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Python –≤–µ–± —Å–µ—Ä–≤–µ—Ä–æ–º
echo [8] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Node.js —Å–µ—Ä–≤–µ—Ä–æ–º
echo [9] –í—ã—Ö–æ–¥
echo.

set /p choice="–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-9): "

if "%choice%"=="1" goto start_python_all
if "%choice%"=="2" goto start_nodejs
if "%choice%"=="3" goto stop_all
if "%choice%"=="4" goto check_status
if "%choice%"=="5" goto open_browser
if "%choice%"=="6" goto api_menu
if "%choice%"=="7" goto web_menu
if "%choice%"=="8" goto nodejs_menu
if "%choice%"=="9" goto exit

echo ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.
timeout /t 2 >nul
goto menu

:start_python_all
echo.
echo üöÄ –ó–ê–ü–£–°–ö PYTHON –°–ï–†–í–ò–°–û–í...
echo.

REM –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /d "%~dp0"
echo üìÅ –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: %CD%

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
echo üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã...
taskkill /f /im python.exe >nul 2>&1
taskkill /f /im node.exe >nul 2>&1
timeout /t 2 >nul

REM –ó–∞–ø—É—Å–∫–∞–µ–º API —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 5000)
echo ‚ö° –ó–∞–ø—É—Å–∫–∞–µ–º Python API —Å–µ—Ä–≤–µ—Ä...
start "GS Bot API Server" cmd /k "cd /d %CD% && python api_server.py"

REM –ù–µ–±–æ–ª—å—à–∞—è –ø–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
timeout /t 1 >nul

REM –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–± —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8000)
echo ‚ö° –ó–∞–ø—É—Å–∫–∞–µ–º Python –≤–µ–± —Å–µ—Ä–≤–µ—Ä...
start "GS Bot Web Server" cmd /k "cd /d %CD% && python server.py"

echo.
echo ‚úÖ Python —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã!
echo üåê API —Å–µ—Ä–≤–µ—Ä: http://localhost:5000
echo üåê –í–µ–± —Å–µ—Ä–≤–µ—Ä: http://localhost:8000
echo üìÑ –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç: http://localhost:8000/index.html
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto menu

:start_nodejs
echo.
echo üöÄ –ó–ê–ü–£–°–ö NODE.JS –°–ï–†–í–ï–†–ê...
echo.

REM –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /d "%~dp0"
echo üìÅ –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: %CD%

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
echo üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã...
taskkill /f /im python.exe >nul 2>&1
taskkill /f /im node.exe >nul 2>&1
timeout /t 2 >nul

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ Node.js
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo ‚ùå Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
    echo üì• –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js —Å https://nodejs.org
    echo.
    echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
    pause >nul
    goto menu
)

REM –ó–∞–ø—É—Å–∫–∞–µ–º Node.js —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8000 —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫—Ä–∞–ø–∏–Ω–≥–æ–º)
echo ‚ö° –ó–∞–ø—É—Å–∫–∞–µ–º Node.js —Å–µ—Ä–≤–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫—Ä–∞–ø–∏–Ω–≥–æ–º...
start "GS Bot Node.js Server" cmd /k "cd /d %CD% && node server.js"

echo.
echo ‚úÖ Node.js —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω!
echo üåê –°–µ—Ä–≤–µ—Ä: http://localhost:8000
echo üìÑ –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç: http://localhost:8000/index.html
echo üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∞–ø–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞–ø—É—â–µ–Ω...
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto menu

:stop_all
echo.
echo üõë –û–°–¢–ê–ù–û–í–ö–ê –í–°–ï–• –°–ï–†–í–ò–°–û–í...
echo.

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ python –ø—Ä–æ—Ü–µ—Å—Å—ã
echo üîç –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Python –ø—Ä–æ—Ü–µ—Å—Å—ã...
taskkill /f /im python.exe >nul 2>&1

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Node.js –ø—Ä–æ—Ü–µ—Å—Å—ã
echo üîç –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Node.js –ø—Ä–æ—Ü–µ—Å—Å—ã...
taskkill /f /im node.exe >nul 2>&1

echo ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!
timeout /t 2 >nul
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto menu


:check_status
echo.
echo üìä –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–£–°–ê –°–ï–†–í–ò–°–û–í...
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã Python
echo üîç Python –ø—Ä–æ—Ü–µ—Å—Å—ã:
tasklist /fi "imagename eq python.exe" /fo table 2>nul | findstr python.exe >nul
if %errorlevel%==0 (
    tasklist /fi "imagename eq python.exe" /fo table 2>nul
) else (
    echo ‚ö†Ô∏è  –ê–∫—Ç–∏–≤–Ω—ã–µ Python –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
)

echo.
REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å—ã Node.js
echo üîç Node.js –ø—Ä–æ—Ü–µ—Å—Å—ã:
tasklist /fi "imagename eq node.exe" /fo table 2>nul | findstr node.exe >nul
if %errorlevel%==0 (
    tasklist /fi "imagename eq node.exe" /fo table 2>nul
) else (
    echo ‚ö†Ô∏è  –ê–∫—Ç–∏–≤–Ω—ã–µ Node.js –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
)

echo.
echo üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Ä—Ç 5000)...
curl -s -o nul -w "API Server - HTTP Status: %%{http_code}\n" http://localhost:5000 >nul 2>&1
if %errorlevel%==0 (
    echo ‚úÖ API —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ http://localhost:5000
) else (
    echo ‚ùå API —Å–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:5000
)

echo.
echo üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–µ–± —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Ä—Ç 8000)...
curl -s -o nul -w "Web Server - HTTP Status: %%{http_code}\n" http://localhost:8000 >nul 2>&1
if %errorlevel%==0 (
    echo ‚úÖ –í–µ–± —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ http://localhost:8000
) else (
    echo ‚ùå –í–µ–± —Å–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000
)

echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto menu

:open_browser
echo.
echo üåê –û–¢–ö–†–´–¢–ò–ï –í –ë–†–ê–£–ó–ï–†–ï...
echo.

start http://localhost:8000/index.html
echo ‚úÖ –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä—ã—Ç: http://localhost:8000/index.html

echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto menu

:api_menu
echo.
echo ===========================================
echo        –£–ü–†–ê–í–õ–ï–ù–ò–ï API –°–ï–†–í–ï–†–û–ú
echo ===========================================
echo.
echo API –°–µ—Ä–≤–µ—Ä: http://localhost:5000
echo.
echo [1] –ó–∞–ø—É—Å—Ç–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä
echo [2] –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä
echo [3] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä
echo [4] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å API —Å–µ—Ä–≤–µ—Ä–∞
echo [5] –ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
echo.

set /p api_choice="–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-5): "

if "%api_choice%"=="1" goto start_api
if "%api_choice%"=="2" goto stop_api
if "%api_choice%"=="3" goto restart_api
if "%api_choice%"=="4" goto check_api_status
if "%api_choice%"=="5" goto menu

echo ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.
timeout /t 2 >nul
goto api_menu

:start_api
echo.
echo üöÄ –ó–ê–ü–£–°–ö API –°–ï–†–í–ï–†–ê...
echo.

cd /d "%~dp0"

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞–ø—É—â–µ–Ω –ª–∏ —É–∂–µ
tasklist /fi "imagename eq python.exe" /fi "windowtitle eq GS Bot API Server*" 2>nul | find /i "python.exe" >nul
if %errorlevel%==0 (
    echo ‚ö†Ô∏è  API —Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω!
    goto api_menu
)

echo ‚ö° –ó–∞–ø—É—Å–∫–∞–µ–º API —Å–µ—Ä–≤–µ—Ä...
start "GS Bot API Server" cmd /k "cd /d %CD% && python api_server.py"

echo.
echo ‚úÖ API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω!
echo üåê –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5000
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto api_menu

:stop_api
echo.
echo üõë –û–°–¢–ê–ù–û–í–ö–ê API –°–ï–†–í–ï–†–ê...
echo.

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ API —Å–µ—Ä–≤–µ—Ä
taskkill /f /fi "windowtitle eq GS Bot API Server*" >nul 2>&1

if %errorlevel%==0 (
    echo ‚úÖ API —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
) else (
    echo ‚ö†Ô∏è  API —Å–µ—Ä–≤–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ —É–∂–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.
)

timeout /t 2 >nul
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto api_menu

:restart_api
echo.
echo üîÑ –ü–ï–†–ï–ó–ê–ü–£–°–ö API –°–ï–†–í–ï–†–ê...
echo.

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º API —Å–µ—Ä–≤–µ—Ä
echo üõë –®–∞–≥ 1: –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º API —Å–µ—Ä–≤–µ—Ä...
taskkill /f /fi "windowtitle eq GS Bot API Server*" >nul 2>&1
timeout /t 2 >nul

REM –ó–∞–ø—É—Å–∫–∞–µ–º API —Å–µ—Ä–≤–µ—Ä
echo üöÄ –®–∞–≥ 2: –ó–∞–ø—É—Å–∫–∞–µ–º API —Å–µ—Ä–≤–µ—Ä –∑–∞–Ω–æ–≤–æ...
cd /d "%~dp0"
start "GS Bot API Server" cmd /k "cd /d %CD% && python api_server.py"

echo.
echo ‚úÖ API —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω!
echo üåê –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:5000
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto api_menu

:check_api_status
echo.
echo üìä –°–¢–ê–¢–£–° API –°–ï–†–í–ï–†–ê...
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å API —Å–µ—Ä–≤–µ—Ä–∞
echo üîç –ü–æ–∏—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ API —Å–µ—Ä–≤–µ—Ä–∞...
tasklist /fi "imagename eq python.exe" /fi "windowtitle eq GS Bot API Server*" 2>nul

echo.
echo üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API —Å–µ—Ä–≤–µ—Ä–∞...
curl -s -o nul -w "HTTP Status: %%{http_code}\n" http://localhost:5000 >nul 2>&1
if %errorlevel%==0 (
    echo ‚úÖ API —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ http://localhost:5000
) else (
    echo ‚ùå API —Å–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:5000
)

echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto api_menu

:web_menu
echo.
echo ===========================================
echo        –£–ü–†–ê–í–õ–ï–ù–ò–ï –í–ï–ë –°–ï–†–í–ï–†–û–ú
echo ===========================================
echo.
echo –í–µ–± –°–µ—Ä–≤–µ—Ä: http://localhost:8000
echo.
echo [1] –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–± —Å–µ—Ä–≤–µ—Ä
echo [2] –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–µ–± —Å–µ—Ä–≤–µ—Ä
echo [3] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ–± —Å–µ—Ä–≤–µ—Ä
echo [4] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤–µ–± —Å–µ—Ä–≤–µ—Ä–∞
echo [5] –ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
echo.

set /p web_choice="–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-5): "

if "%web_choice%"=="1" goto start_web
if "%web_choice%"=="2" goto stop_web
if "%web_choice%"=="3" goto restart_web
if "%web_choice%"=="4" goto check_web_status
if "%web_choice%"=="5" goto menu

echo ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.
timeout /t 2 >nul
goto web_menu

:start_web
echo.
echo üöÄ –ó–ê–ü–£–°–ö –í–ï–ë –°–ï–†–í–ï–†–ê...
echo.

cd /d "%~dp0"

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞–ø—É—â–µ–Ω –ª–∏ —É–∂–µ
tasklist /fi "imagename eq python.exe" /fi "windowtitle eq GS Bot Web Server*" 2>nul | find /i "python.exe" >nul
if %errorlevel%==0 (
    echo ‚ö†Ô∏è  –í–µ–± —Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω!
    goto web_menu
)

echo ‚ö° –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–± —Å–µ—Ä–≤–µ—Ä...
start "GS Bot Web Server" cmd /k "cd /d %CD% && python server.py"

echo.
echo ‚úÖ –í–µ–± —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω!
echo üåê –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000
echo üìÑ –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8000/index.html
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto web_menu

:stop_web
echo.
echo üõë –û–°–¢–ê–ù–û–í–ö–ê –í–ï–ë –°–ï–†–í–ï–†–ê...
echo.

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –≤–µ–± —Å–µ—Ä–≤–µ—Ä
taskkill /f /fi "windowtitle eq GS Bot Web Server*" >nul 2>&1

if %errorlevel%==0 (
    echo ‚úÖ –í–µ–± —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
) else (
    echo ‚ö†Ô∏è  –í–µ–± —Å–µ—Ä–≤–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ —É–∂–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.
)

timeout /t 2 >nul
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto web_menu

:restart_web
echo.
echo üîÑ –ü–ï–†–ï–ó–ê–ü–£–°–ö –í–ï–ë –°–ï–†–í–ï–†–ê...
echo.

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–µ–± —Å–µ—Ä–≤–µ—Ä
echo üõë –®–∞–≥ 1: –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–µ–± —Å–µ—Ä–≤–µ—Ä...
taskkill /f /fi "windowtitle eq GS Bot Web Server*" >nul 2>&1
timeout /t 2 >nul

REM –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–± —Å–µ—Ä–≤–µ—Ä
echo üöÄ –®–∞–≥ 2: –ó–∞–ø—É—Å–∫–∞–µ–º –≤–µ–± —Å–µ—Ä–≤–µ—Ä –∑–∞–Ω–æ–≤–æ...
cd /d "%~dp0"
start "GS Bot Web Server" cmd /k "cd /d %CD% && python server.py"

echo.
echo ‚úÖ –í–µ–± —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω!
echo üåê –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000
echo üìÑ –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8000/index.html
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto web_menu

:check_web_status
echo.
echo üìä –°–¢–ê–¢–£–° –í–ï–ë –°–ï–†–í–ï–†–ê...
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å –≤–µ–± —Å–µ—Ä–≤–µ—Ä–∞
echo üîç –ü–æ–∏—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤–µ–± —Å–µ—Ä–≤–µ—Ä–∞...
tasklist /fi "imagename eq python.exe" /fi "windowtitle eq GS Bot Web Server*" 2>nul

echo.
echo üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–µ–± —Å–µ—Ä–≤–µ—Ä–∞...
curl -s -o nul -w "HTTP Status: %%{http_code}\n" http://localhost:8000 >nul 2>&1
if %errorlevel%==0 (
    echo ‚úÖ –í–µ–± —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ http://localhost:8000
) else (
    echo ‚ùå –í–µ–± —Å–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000
)

echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto web_menu

:nodejs_menu
echo.
echo ===========================================
echo      –£–ü–†–ê–í–õ–ï–ù–ò–ï NODE.JS –°–ï–†–í–ï–†–û–ú
echo ===========================================
echo.
echo Node.js –°–µ—Ä–≤–µ—Ä: http://localhost:8000
echo (—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫—Ä–∞–ø–∏–Ω–≥–æ–º)
echo.
echo [1] –ó–∞–ø—É—Å—Ç–∏—Ç—å Node.js —Å–µ—Ä–≤–µ—Ä
echo [2] –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js —Å–µ—Ä–≤–µ—Ä
echo [3] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Node.js —Å–µ—Ä–≤–µ—Ä
echo [4] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Node.js —Å–µ—Ä–≤–µ—Ä–∞
echo [5] –ù–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
echo.

set /p nodejs_choice="–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ (1-5): "

if "%nodejs_choice%"=="1" goto start_nodejs_server
if "%nodejs_choice%"=="2" goto stop_nodejs_server
if "%nodejs_choice%"=="3" goto restart_nodejs_server
if "%nodejs_choice%"=="4" goto check_nodejs_status
if "%nodejs_choice%"=="5" goto menu

echo ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.
timeout /t 2 >nul
goto nodejs_menu

:start_nodejs_server
echo.
echo üöÄ –ó–ê–ü–£–°–ö NODE.JS –°–ï–†–í–ï–†–ê...
echo.

cd /d "%~dp0"

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ Node.js
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo ‚ùå Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
    echo üì• –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js —Å https://nodejs.org
    echo.
    echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
    pause >nul
    goto nodejs_menu
)

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞–ø—É—â–µ–Ω –ª–∏ —É–∂–µ
tasklist /fi "imagename eq node.exe" /fi "windowtitle eq GS Bot Node.js Server*" 2>nul | find /i "node.exe" >nul
if %errorlevel%==0 (
    echo ‚ö†Ô∏è  Node.js —Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω!
    goto nodejs_menu
)

echo ‚ö° –ó–∞–ø—É—Å–∫–∞–µ–º Node.js —Å–µ—Ä–≤–µ—Ä —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫—Ä–∞–ø–∏–Ω–≥–æ–º...
start "GS Bot Node.js Server" cmd /k "cd /d %CD% && node server.js"

echo.
echo ‚úÖ Node.js —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω!
echo üåê –°–µ—Ä–≤–µ—Ä: http://localhost:8000
echo üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∞–ø–∏–Ω–≥ –∑–∞–ø—É—â–µ–Ω...
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto nodejs_menu

:stop_nodejs_server
echo.
echo üõë –û–°–¢–ê–ù–û–í–ö–ê NODE.JS –°–ï–†–í–ï–†–ê...
echo.

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ Node.js —Å–µ—Ä–≤–µ—Ä
taskkill /f /fi "windowtitle eq GS Bot Node.js Server*" >nul 2>&1

if %errorlevel%==0 (
    echo ‚úÖ Node.js —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
) else (
    echo ‚ö†Ô∏è  Node.js —Å–µ—Ä–≤–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ —É–∂–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.
)

timeout /t 2 >nul
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto nodejs_menu

:restart_nodejs_server
echo.
echo üîÑ –ü–ï–†–ï–ó–ê–ü–£–°–ö NODE.JS –°–ï–†–í–ï–†–ê...
echo.

REM –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Node.js —Å–µ—Ä–≤–µ—Ä
echo üõë –®–∞–≥ 1: –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Node.js —Å–µ—Ä–≤–µ—Ä...
taskkill /f /fi "windowtitle eq GS Bot Node.js Server*" >nul 2>&1
timeout /t 2 >nul

REM –ó–∞–ø—É—Å–∫–∞–µ–º Node.js —Å–µ—Ä–≤–µ—Ä
echo üöÄ –®–∞–≥ 2: –ó–∞–ø—É—Å–∫–∞–µ–º Node.js —Å–µ—Ä–≤–µ—Ä –∑–∞–Ω–æ–≤–æ...
cd /d "%~dp0"

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ Node.js
node --version >nul 2>&1
if %errorlevel% neq 0 (
    echo ‚ùå Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
    goto nodejs_menu
)

start "GS Bot Node.js Server" cmd /k "cd /d %CD% && node server.js"

echo.
echo ‚úÖ Node.js —Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω!
echo üåê –°–µ—Ä–≤–µ—Ä: http://localhost:8000
echo üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∞–ø–∏–Ω–≥ –∑–∞–ø—É—â–µ–Ω...
echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto nodejs_menu

:check_nodejs_status
echo.
echo üìä –°–¢–ê–¢–£–° NODE.JS –°–ï–†–í–ï–†–ê...
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å Node.js —Å–µ—Ä–≤–µ—Ä–∞
echo üîç –ü–æ–∏—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ Node.js —Å–µ—Ä–≤–µ—Ä–∞...
tasklist /fi "imagename eq node.exe" /fi "windowtitle eq GS Bot Node.js Server*" 2>nul

echo.
echo üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Node.js —Å–µ—Ä–≤–µ—Ä–∞...
curl -s -o nul -w "HTTP Status: %%{http_code}\n" http://localhost:8000 >nul 2>&1
if %errorlevel%==0 (
    echo ‚úÖ Node.js —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ http://localhost:8000
) else (
    echo ‚ùå Node.js —Å–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000
)

echo.
echo üí° –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é...
pause >nul
goto nodejs_menu

:exit
echo.
echo üëã –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!
echo.
exit /b 0
