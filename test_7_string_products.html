<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .results {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 4px solid #007bff;
        }
        .product-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            background: white;
        }
        .product-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .product-subtitle {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }
        .product-manufacturer {
            font-size: 10px;
            font-weight: 500;
            color: #4caf50;
            background-color: rgba(76, 175, 80, 0.1);
            padding: 2px 6px;
            border-radius: 8px;
            display: inline-block;
            margin-left: 8px;
        }
        .product-seven-string {
            font-size: 10px;
            font-weight: 500;
            color: #ff6b35;
            background-color: rgba(255, 107, 53, 0.1);
            padding: 2px 6px;
            border-radius: 8px;
            display: inline-block;
            margin-left: 8px;
        }
        .success {
            color: #28a745;
            font-weight: bold;
        }
        .error {
            color: #dc3545;
            font-weight: bold;
        }
        .info {
            color: #17a2b8;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé∏ –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</h1>
        
        <div class="test-section">
            <h3>–¢–µ—Å—Ç 1: –ü–æ–∏—Å–∫ 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</h3>
            <button class="test-button" onclick="test7StringSearch()">–ù–∞–π—Ç–∏ 7-—Å—Ç—Ä—É–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</button>
            <div id="search-results" class="results"></div>
        </div>
        
        <div class="test-section">
            <h3>–¢–µ—Å—Ç 2: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–æ–º–µ—Ç–∫–∞–º–∏</h3>
            <button class="test-button" onclick="test7StringDisplay()">–ü–æ–∫–∞–∑–∞—Ç—å 7-—Å—Ç—Ä—É–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å –ø–æ–º–µ—Ç–∫–∞–º–∏</button>
            <div id="display-results" class="results"></div>
        </div>
        
        <div class="test-section">
            <h3>–¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</h3>
            <button class="test-button" onclick="test7StringLogic()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É</button>
            <div id="logic-results" class="results"></div>
        </div>
        
        <div class="test-section">
            <h3>–¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤</h3>
            <button class="test-button" onclick="testTranslations()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã</button>
            <div id="translation-results" class="results"></div>
        </div>
    </div>

    <script>
        // –ú–æ–∫ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        const translations = {
            uk: {
                sevenStringInfo: "7 —Å—Ç—Ä—É–Ω –¥–ª—è –µ–ª–µ–∫—Ç—Ä–æ–≥—ñ—Ç–∞—Ä–∏",
                manufacturer: "–í–∏—Ä–æ–±–Ω–∏–∫",
                compare: "–ü–æ—Ä—ñ–≤–Ω—è—Ç–∏"
            },
            ru: {
                sevenStringInfo: "7 —Å—Ç—Ä—É–Ω –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–≥–∏—Ç–∞—Ä—ã",
                manufacturer: "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å",
                compare: "–°—Ä–∞–≤–Ω–∏—Ç—å"
            },
            en: {
                sevenStringInfo: "7 strings for electric guitar",
                manufacturer: "Manufacturer",
                compare: "Compare"
            }
        };

        async function test7StringSearch() {
            const resultsDiv = document.getElementById('search-results');
            resultsDiv.innerHTML = '<div class="info">üîç –ü–æ–∏—Å–∫ 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤...</div>';
            
            try {
                const response = await fetch('http://localhost:8000/api/products?start=0&limit=1000');
                const data = await response.json();
                
                if (data.success && data.products) {
                    const sevenStringProducts = data.products.filter(product => {
                        const productName = product.name.toLowerCase();
                        return productName.includes('7-string') || productName.includes('7 string');
                    });
                    
                    resultsDiv.innerHTML = `
                        <div class="success">‚úÖ –ù–∞–π–¥–µ–Ω–æ ${sevenStringProducts.length} 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</div>
                        <div style="margin-top: 10px;">
                            ${sevenStringProducts.map(product => `
                                <div class="product-card">
                                    <div class="product-title">${product.name}</div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                } else {
                    resultsDiv.innerHTML = '<div class="error">‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</div>';
                }
            } catch (error) {
                resultsDiv.innerHTML = `<div class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
            }
        }

        async function test7StringDisplay() {
            const resultsDiv = document.getElementById('display-results');
            resultsDiv.innerHTML = '<div class="info">üîç –ó–∞–≥—Ä—É–∑–∫–∞ 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤...</div>';
            
            try {
                const response = await fetch('http://localhost:8000/api/products?start=0&limit=1000');
                const data = await response.json();
                
                if (data.success && data.products) {
                    const sevenStringProducts = data.products.filter(product => {
                        const productName = product.name.toLowerCase();
                        return productName.includes('7-string') || productName.includes('7 string');
                    }).slice(0, 5); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 5 –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
                    
                    resultsDiv.innerHTML = `
                        <div class="success">‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–æ–º–µ—Ç–∫–∞–º–∏</div>
                        <div style="margin-top: 10px;">
                            ${sevenStringProducts.map(product => {
                                const is7String = product.name.toLowerCase().includes('7-string') || product.name.toLowerCase().includes('7 string');
                                const isDR = product.name.toLowerCase().startsWith('dr ') || product.name.toLowerCase().includes(' dr ');
                                const isLaBella = product.name.toLowerCase().includes('la bella');
                                
                                let manufacturerHtml = '';
                                if (isDR) {
                                    manufacturerHtml = `<span class="product-manufacturer">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: DR</span>`;
                                } else if (isLaBella) {
                                    manufacturerHtml = `<span class="product-manufacturer">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: La Bella</span>`;
                                }
                                
                                const sevenStringHtml = is7String ? `<span class="product-seven-string">7 —Å—Ç—Ä—É–Ω –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–≥–∏—Ç–∞—Ä—ã</span>` : '';
                                
                                return `
                                    <div class="product-card">
                                        <div class="product-title">${product.name}</div>
                                        <div class="product-subtitle">
                                            <input type="checkbox" class="compare-checkbox">
                                            <span>–°—Ä–∞–≤–Ω–∏—Ç—å</span>
                                            ${manufacturerHtml}
                                            ${sevenStringHtml}
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    `;
                } else {
                    resultsDiv.innerHTML = '<div class="error">‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</div>';
                }
            } catch (error) {
                resultsDiv.innerHTML = `<div class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
            }
        }

        function test7StringLogic() {
            const resultsDiv = document.getElementById('logic-results');
            
            // –¢–µ—Å—Ç–æ–≤—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
            const testProducts = [
                "Dunlop DEN1056-7 Nickel Wound 7-String 10-56",
                "GHS Boomers GB7MH 7-String Medium Heavy 11-64",
                "Ernie Ball 2620 7-String Power Slinky 11-58",
                "La Bella HRS-72 Hard Rockin Steel Nickel-Plated 7-String 10-64",
                "DR BKE7-11 Black Beauties K3 Coated 7-String Extra Heavy 11-60",
                "DAddario EXL110-7 7-String Nickel Wound Regular Light 10-59",
                "–û–±—ã—á–Ω—ã–µ —Å—Ç—Ä—É–Ω—ã Ernie Ball 2221 10-46",
                "DR Strings DR-10-46 Regular"
            ];
            
            let results = '<div class="info">üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</div>';
            
            testProducts.forEach(product => {
                const productName = product.toLowerCase();
                const is7String = productName.includes('7-string') || productName.includes('7 string');
                const isDR = productName.startsWith('dr ') || productName.includes(' dr ');
                const isLaBella = productName.includes('la bella');
                
                const status = is7String ? '‚úÖ 7-—Å—Ç—Ä—É–Ω–Ω—ã–π' : '‚ùå –ù–µ 7-—Å—Ç—Ä—É–Ω–Ω—ã–π';
                const manufacturer = isDR ? 'DR' : isLaBella ? 'La Bella' : '–î—Ä—É–≥–æ–π';
                
                results += `
                    <div style="margin: 5px 0; padding: 5px; border-left: 3px solid ${is7String ? '#28a745' : '#dc3545'};">
                        <strong>${product}</strong><br>
                        –°—Ç–∞—Ç—É—Å: ${status} | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: ${manufacturer}
                    </div>
                `;
            });
            
            resultsDiv.innerHTML = results;
        }

        function testTranslations() {
            const resultsDiv = document.getElementById('translation-results');
            
            let results = '<div class="info">üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –¥–ª—è 7-—Å—Ç—Ä—É–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</div>';
            
            Object.keys(translations).forEach(lang => {
                const translation = translations[lang];
                results += `
                    <div style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                        <strong>${lang.toUpperCase()}:</strong><br>
                        sevenStringInfo: "${translation.sevenStringInfo}"<br>
                        manufacturer: "${translation.manufacturer}"<br>
                        compare: "${translation.compare}"
                    </div>
                `;
            });
            
            resultsDiv.innerHTML = results;
        }
    </script>
</body>
</html>
