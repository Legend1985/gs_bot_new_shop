<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест изображений товаров</title>
</head>
<body>
    <h1>Тест загрузки изображений товаров</h1>

    <div id="imageTests"></div>

    <script>
        const testImages = [
            {
                name: "Orphee RX15",
                url: "https://guitarstrings.com.ua/images/stories/virtuemart/product/resized/orphee_rx15-9-42_0x170.png"
            },
            {
                name: "Ernie Ball 2248",
                url: "https://guitarstrings.com.ua/images/stories/virtuemart/product/resized/ernie_ball_2248_9-42_0x170.png"
            },
            {
                name: "D'Addario EXL110",
                url: "https://guitarstrings.com.ua/images/stories/virtuemart/product/resized/daddario_exl110_10-46_0x170.png"
            },
            {
                name: "Fender 250R",
                url: "https://guitarstrings.com.ua/images/stories/virtuemart/product/resized/fender_250r_10-46_0x170.png"
            },
            {
                name: "GHS Boomers",
                url: "https://guitarstrings.com.ua/images/stories/virtuemart/product/resized/ghs_gbtm_11-50_0x170.png"
            }
        ];

        const container = document.getElementById('imageTests');

        testImages.forEach((test, index) => {
            const div = document.createElement('div');
            div.style.margin = '20px';
            div.style.padding = '10px';
            div.style.border = '1px solid #ccc';

            div.innerHTML = `
                <h3>${index + 1}. ${test.name}</h3>
                <p>URL: ${test.url}</p>
                <div style="position: relative;">
                    <img src="${test.url}"
                         alt="${test.name}"
                         style="max-width: 200px; border: 1px solid #ddd;"
                         onload="console.log('${test.name}: загружено')"
                         onerror="console.log('${test.name}: ошибка загрузки')">
                    <div style="position: absolute; top: 0; right: 0; background: yellow; padding: 2px; font-size: 12px;">
                        Статус: <span id="status-${index}">проверка...</span>
                    </div>
                </div>
            `;

            container.appendChild(div);

            // Проверяем доступность через fetch
            fetch(test.url, { method: 'HEAD' })
                .then(response => {
                    const statusElement = document.getElementById(`status-${index}`);
                    if (response.ok) {
                        statusElement.textContent = '✅ доступно';
                        statusElement.style.color = 'green';
                    } else {
                        statusElement.textContent = `❌ ${response.status}`;
                        statusElement.style.color = 'red';
                    }
                })
                .catch(error => {
                    const statusElement = document.getElementById(`status-${index}`);
                    statusElement.textContent = '❌ ошибка';
                    statusElement.style.color = 'red';
                    console.log(`${test.name}: ошибка сети:`, error);
                });
        });
    </script>
</body>
</html>
