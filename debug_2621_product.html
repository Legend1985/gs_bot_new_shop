<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ç–ª–∞–¥–∫–∞ —Ç–æ–≤–∞—Ä–∞ Ernie Ball 2621</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .section { background: white; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .info { color: #17a2b8; }
        .warning { color: #ffc107; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; margin: 5px; }
        .results { background: #f8f9fa; padding: 15px; border-radius: 4px; margin: 10px 0; border-left: 4px solid #007bff; }
        .product-item { background: #e9ecef; padding: 10px; margin: 5px 0; border-radius: 4px; }
        .highlight { background: #fff3cd; border-left: 3px solid #ffc107; }
    </style>
</head>
<body>
    <h1>üîç –û—Ç–ª–∞–¥–∫–∞ —Ç–æ–≤–∞—Ä–∞ Ernie Ball 2621</h1>
    
    <div class="section">
        <h2>1. –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞ 2621 –≤ API</h2>
        <button onclick="find2621()">–ù–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä 2621</button>
        <div id="find-results" class="results"></div>
    </div>
    
    <div class="section">
        <h2>2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö Ernie Ball —Ç–æ–≤–∞—Ä–æ–≤</h2>
        <button onclick="findAllErnieBall()">–ù–∞–π—Ç–∏ –≤—Å–µ Ernie Ball</button>
        <div id="ernie-results" class="results"></div>
    </div>
    
    <div class="section">
        <h2>3. –¢–µ—Å—Ç –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</h2>
        <button onclick="test7StringLogic()">–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É</button>
        <div id="test-results" class="results"></div>
    </div>

    <script>
        let allProducts = [];

        async function find2621() {
            const results = document.getElementById('find-results');
            results.innerHTML = '<div class="info">üîç –ò—â–µ–º —Ç–æ–≤–∞—Ä 2621...</div>';
            
            try {
                const response = await fetch('http://localhost:8000/api/products?start=0&limit=1000');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                allProducts = data.products || [];
                
                // –ò—â–µ–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã —Å 2621
                const products2621 = allProducts.filter(product => 
                    product.name.includes('2621') || 
                    product.name.toLowerCase().includes('ernie ball')
                );
                
                if (products2621.length > 0) {
                    results.innerHTML = `
                        <div class="success">‚úÖ –ù–∞–π–¥–µ–Ω–æ ${products2621.length} —Ç–æ–≤–∞—Ä–æ–≤ —Å 2621:</div>
                    `;
                    
                    products2621.forEach((product, index) => {
                        const is7String = product.name.toLowerCase().includes('7-string') || 
                                        product.name.toLowerCase().includes('7 string') ||
                                        product.name.toLowerCase().includes('7-—Å—Ç—Ä—É–Ω') ||
                                        product.name.toLowerCase().includes('7 —Å—Ç—Ä—É–Ω');
                        
                        results.innerHTML += `
                            <div class="product-item ${is7String ? 'highlight' : ''}">
                                <strong>${index + 1}. ${product.name}</strong><br>
                                <small>ID: ${product.id || 'N/A'}</small><br>
                                <small>–¶–µ–Ω–∞: ${product.price || 'N/A'}</small><br>
                                <small>7-—Å—Ç—Ä—É–Ω–Ω—ã–π: ${is7String ? '‚úÖ –î–ê' : '‚ùå –ù–ï–¢'}</small>
                            </div>
                        `;
                    });
                } else {
                    results.innerHTML = '<div class="error">‚ùå –¢–æ–≤–∞—Ä 2621 –Ω–µ –Ω–∞–π–¥–µ–Ω</div>';
                }
                
            } catch (error) {
                results.innerHTML = `<div class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
            }
        }

        async function findAllErnieBall() {
            const results = document.getElementById('ernie-results');
            results.innerHTML = '<div class="info">üîç –ò—â–µ–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã Ernie Ball...</div>';
            
            if (allProducts.length === 0) {
                results.innerHTML = '<div class="error">‚ùå –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã</div>';
                return;
            }
            
            const ernieBallProducts = allProducts.filter(product => 
                product.name.toLowerCase().includes('ernie ball')
            );
            
            if (ernieBallProducts.length > 0) {
                results.innerHTML = `
                    <div class="success">‚úÖ –ù–∞–π–¥–µ–Ω–æ ${ernieBallProducts.length} —Ç–æ–≤–∞—Ä–æ–≤ Ernie Ball:</div>
                `;
                
                ernieBallProducts.forEach((product, index) => {
                    const is7String = product.name.toLowerCase().includes('7-string') || 
                                    product.name.toLowerCase().includes('7 string') ||
                                    product.name.toLowerCase().includes('7-—Å—Ç—Ä—É–Ω') ||
                                    product.name.toLowerCase().includes('7 —Å—Ç—Ä—É–Ω');
                    
                    results.innerHTML += `
                        <div class="product-item ${is7String ? 'highlight' : ''}">
                            <strong>${index + 1}. ${product.name}</strong><br>
                            <small>7-—Å—Ç—Ä—É–Ω–Ω—ã–π: ${is7String ? '‚úÖ –î–ê' : '‚ùå –ù–ï–¢'}</small>
                        </div>
                    `;
                });
            } else {
                results.innerHTML = '<div class="error">‚ùå –¢–æ–≤–∞—Ä—ã Ernie Ball –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
            }
        }

        function test7StringLogic() {
            const results = document.getElementById('test-results');
            results.innerHTML = '<div class="info">üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è 7-—Å—Ç—Ä—É–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤...</div>';
            
            if (allProducts.length === 0) {
                results.innerHTML = '<div class="error">‚ùå –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã</div>';
                return;
            }
            
            // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π
            const testNames = [
                "Ernie Ball 2621 7-String Regular Slinky 10-56",
                "Ernie Ball 2621 Regular Slinky 10-56",
                "Ernie Ball 2621 7 String Regular Slinky 10-56",
                "Ernie Ball 2621 7-—Å—Ç—Ä—É–Ω Regular Slinky 10-56",
                "Ernie Ball 2621 7 —Å—Ç—Ä—É–Ω Regular Slinky 10-56"
            ];
            
            results.innerHTML += '<div style="margin-top: 20px;"><h4>üß™ –¢–µ—Å—Ç —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏–π:</h4></div>';
            
            testNames.forEach((testName, index) => {
                const is7String = testName.toLowerCase().includes('7-string') || 
                                testName.toLowerCase().includes('7 string') ||
                                testName.toLowerCase().includes('7-—Å—Ç—Ä—É–Ω') ||
                                testName.toLowerCase().includes('7 —Å—Ç—Ä—É–Ω');
                
                results.innerHTML += `
                    <div class="product-item ${is7String ? 'highlight' : ''}">
                        <strong>–¢–µ—Å—Ç ${index + 1}: ${testName}</strong><br>
                        <small>7-—Å—Ç—Ä—É–Ω–Ω—ã–π: ${is7String ? '‚úÖ –î–ê' : '‚ùå –ù–ï–¢'}</small>
                    </div>
                `;
            });
            
            // –ò—â–µ–º –ø–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã –≤ API
            const similarProducts = allProducts.filter(product => 
                product.name.toLowerCase().includes('ernie ball') && 
                product.name.toLowerCase().includes('2621')
            );
            
            if (similarProducts.length > 0) {
                results.innerHTML += `
                    <div style="margin-top: 20px;">
                        <h4>üîç –ü–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã –≤ API:</h4>
                    </div>
                `;
                
                similarProducts.forEach((product, index) => {
                    results.innerHTML += `
                        <div class="product-item">
                            <strong>${index + 1}. ${product.name}</strong>
                        </div>
                    `;
                });
            }
        }
    </script>
</body>
</html>
