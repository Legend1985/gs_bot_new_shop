# Всплывающее окно для товаров, снятых с производства

## Описание функциональности

Добавлена новая функциональность всплывающего окна, которое появляется при нажатии на кнопку "Снят с производства" у товаров, которые больше не производятся.

## Особенности

### Визуальное оформление
- **Современный дизайн**: Окно имеет скругленные углы и тень для современного вида
- **Адаптивность**: Окно корректно отображается на всех размерах экранов
- **Анимация**: Плавное появление и исчезновение окна с эффектом масштабирования
- **Иконка**: Изображение извиняющегося котика с плакатом "Sorry" для создания позитивного настроения
- **Удобный крестик**: Большая кнопка закрытия в правом верхнем углу для удобства на мобильных устройствах

### Функциональность
- **Автоматическое определение**: Система автоматически определяет товары со статусом "Снят с производства"
- **Блокировка прокрутки**: При открытии окна прокрутка страницы блокируется
- **Множественные способы закрытия**:
  - Клик по большому крестику в правом верхнем углу (оптимизирован для мобильных устройств)
  - Клик вне области окна
  - Нажатие клавиши Escape

### Сообщение
Текст сообщения: **"Товар снят с производства. Не расстраивайтесь."**

## Техническая реализация

### CSS стили
Добавлены новые CSS классы в `style.css`:
- `.popup-overlay` - фоновая область
- `.popup-content` - содержимое окна
- `.popup-close` - большая кнопка закрытия с белым фоном и тенью
- `.popup-message` - текст сообщения
- `.popup-icon` - контейнер для изображения котика

### JavaScript функции
Добавлены новые функции в `app.js`:
- `showDiscontinuedPopup()` - показать окно
- `hideDiscontinuedPopup()` - скрыть окно
- `initPopupHandlers()` - инициализация обработчиков событий

### HTML структура
Добавлена HTML структура в `index.html`:
```html
<div class="popup-overlay" id="discontinuedPopup">
    <div class="popup-content">
        <button class="popup-close" id="popupClose">&times;</button>
        <div class="popup-icon">
            <img src="images/Discontinued.jpg" alt="Извиняющийся котик" title="Sorry!">
        </div>
        <p class="popup-message">Товар снят с производства. Не расстраивайтесь.</p>
    </div>
</div>
```

## Тестирование

### Тестовая страница
Создана тестовая страница `test_popup.html` для проверки функциональности:
- Содержит примеры товаров с разными статусами
- Позволяет протестировать всплывающее окно
- Доступна по адресу: `http://localhost:8000/test_popup.html`

### Тестовые данные
В `api.php` добавлены дополнительные товары со статусом "Снят с производства" для тестирования.

## Использование

1. **Запуск сервера**: `python -m http.server 8000`
2. **Открытие основной страницы**: `http://localhost:8000/index.html`
3. **Тестирование**: `http://localhost:8000/test_popup.html`

## Совместимость

- ✅ Все современные браузеры
- ✅ Мобильные устройства
- ✅ Telegram Web App
- ✅ Адаптивный дизайн

## Безопасность

- Окно не влияет на основную функциональность приложения
- Корректно обрабатываются все события
- Нет утечек памяти или конфликтов с существующим кодом 